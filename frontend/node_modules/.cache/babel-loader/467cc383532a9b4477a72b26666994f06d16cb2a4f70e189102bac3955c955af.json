{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/FORESE/HR_DB/frontend/src/components/AdminLoginForm.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useContext } from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\nimport { currentUserContext } from '../App';\nimport { login } from \"../features/users/UserServices\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction AdminForm() {\n  _s();\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\",\n    role: \"Admin\"\n  });\n  const {\n    currentUser,\n    setCurrentUser\n  } = useContext(currentUserContext);\n  const queryClient = useQueryClient();\n  const navigate = useNavigate();\n  const loginMutation = useMutation({\n    mutationFn: login,\n    onSuccess: data => {\n      queryClient.invalidateQueries([\"user\"], {\n        exact: true\n      });\n      setCurrentUser(sessionStorage.getItem('user'));\n      sessionStorage.setItem('email', data.email);\n      sessionStorage.setItem('role', data.role);\n      sessionStorage.setItem('incharge', data.incharge);\n\n      //   console.log(data)\n      navigate('/ddashboard');\n    }\n  });\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prevFormData => ({\n      ...prevFormData,\n      [name]: value\n    }));\n  };\n  const handleSubmit = e => {\n    e.preventDefault();\n    console.log(formData);\n    loginMutation.mutate({\n      email: formData.email,\n      password: formData.password,\n      role: formData.role\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center items-center h-screen bg-[#8EA7E9]\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"w-96 p-6 shadow-lg bg-white rounded-md text-[#7286D3]\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-2xl  block text-center font-semibold\",\n          children: [/*#__PURE__*/_jsxDEV(\"i\", {\n            className: \" text-2xl fa-solid fa-user px-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 47,\n            columnNumber: 79\n          }, this), \" Admin Login\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {\n          className: \"mt-3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"username\",\n            className: \" block text-base mb-2 font-base\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"email\",\n            name: \"email\",\n            className: \"border border-[#7286D3] w-full text-base px-2 py-1 focus:outline-none focus:ring-0\",\n            placeholder: \"Enter Email...\",\n            value: formData.email,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"password\",\n            className: \"block text-base mb-2 font-base\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            id: \"password\",\n            name: \"password\",\n            className: \"border border-[#7286D3] w-full text-base px-2 py-1 focus:outline-none focus:ring-0\",\n            placeholder: \"Enter Password...\",\n            value: formData.password,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"mt-3 flex justify-between items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"label\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/login\",\n                className: \"text-[#7286D3] font-semibold\",\n                children: \"Common Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 36\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 69,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-5\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \" cursor-pointer border-2 border-[#a6c1ee] bg-[#7286D3] text-white py-1 w-full rounded font-semibold hover:opacity-75 hover:z-90 duration-150\",\n            onClick: handleSubmit,\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n}\n_s(AdminForm, \"3ENinAjchYBVOWVpltWKdKc+RFM=\", false, function () {\n  return [useQueryClient, useNavigate, useMutation];\n});\n_c = AdminForm;\nexport default AdminForm;\nvar _c;\n$RefreshReg$(_c, \"AdminForm\");","map":{"version":3,"names":["React","useState","useContext","useNavigate","useMutation","useQueryClient","currentUserContext","login","jsxDEV","_jsxDEV","Fragment","_Fragment","AdminForm","_s","formData","setFormData","email","password","role","currentUser","setCurrentUser","queryClient","navigate","loginMutation","mutationFn","onSuccess","data","invalidateQueries","exact","sessionStorage","getItem","setItem","incharge","handleChange","e","name","value","target","prevFormData","handleSubmit","preventDefault","console","log","mutate","children","className","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","placeholder","onChange","class","href","onClick","_c","$RefreshReg$"],"sources":["/Users/mac/Desktop/FORESE/HR_DB/frontend/src/components/AdminLoginForm.js"],"sourcesContent":["import React, {useState, useContext} from 'react'\nimport { useNavigate } from \"react-router-dom\"\nimport{useMutation, useQueryClient} from '@tanstack/react-query'\nimport {currentUserContext} from '../App'\n\n\nimport {login} from \"../features/users/UserServices\"\n\nfunction AdminForm() {\n    const [formData, setFormData] = useState({email:\"\", password:\"\",role:\"Admin\"})\n    const {currentUser,setCurrentUser } = useContext(currentUserContext);\n\n    const queryClient = useQueryClient()\n    const navigate = useNavigate()\n\n    const loginMutation = useMutation({\n        mutationFn: login,\n        onSuccess:(data)=>{\n            queryClient.invalidateQueries([\"user\"], { exact: true })\n            setCurrentUser(sessionStorage.getItem('user'))\n            sessionStorage.setItem('email',data.email)\n            sessionStorage.setItem('role',data.role)\n            sessionStorage.setItem('incharge',data.incharge)\n\n        //   console.log(data)\n            navigate('/ddashboard')\n        }\n      })\n\n    const handleChange = (e) => {\n        const { name, value } = e.target;\n        setFormData((prevFormData) => ({ ...prevFormData, [name]: value }));\n    };\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        console.log(formData)\n        loginMutation.mutate({\n            email:formData.email,\n            password:formData.password,\n            role:formData.role\n        })\n    }\n    return (\n        <>\n            <div className='flex justify-center items-center h-screen bg-[#8EA7E9]'>\n                <form className='w-96 p-6 shadow-lg bg-white rounded-md text-[#7286D3]'>\n                    <h2 className='text-2xl  block text-center font-semibold'><i className=' text-2xl fa-solid fa-user px-2'></i> Admin Login</h2>\n                    <hr className='mt-3'/>\n                    <div className='mt-3'>\n                        <label htmlFor='username' className=' block text-base mb-2 font-base'>Email</label>\n                        <input type='text' id ='email' \n                        name='email'\n                        className='border border-[#7286D3] w-full text-base px-2 py-1 focus:outline-none focus:ring-0' \n                        placeholder='Enter Email...'\n                        value={formData.email} \n                        onChange={handleChange}/>\n                    </div>\n                    <div className='mt-3'>\n                        <label htmlFor='password' className='block text-base mb-2 font-base'>Password</label>\n                        <input type='password' id ='password' \n                        name='password'\n                        className='border border-[#7286D3] w-full text-base px-2 py-1 focus:outline-none focus:ring-0' \n                        placeholder='Enter Password...'\n                        value={formData.password} \n                        onChange={handleChange}/>\n                    </div>\n                    <div class=\"mt-3 flex justify-between items-center\">\n                        <div>\n                            <label><a href='/login' className='text-[#7286D3] font-semibold'>Common Login</a></label>\n                        </div>\n                    </div>\n                    <div className='mt-5'>\n                        <button type='submit' className=' cursor-pointer border-2 border-[#a6c1ee] bg-[#7286D3] text-white py-1 w-full rounded font-semibold hover:opacity-75 hover:z-90 duration-150' onClick={handleSubmit}>Submit</button>\n                    </div>\n                </form>\n            </div>\n        </>\n    )\n}\n\nexport default AdminForm"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}